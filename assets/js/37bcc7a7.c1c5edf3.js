"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[961],{20701:(n,r,e)=>{e.r(r),e.d(r,{assets:()=>c,contentTitle:()=>l,default:()=>p,frontMatter:()=>s,metadata:()=>t,toc:()=>o});var a=e(85893),d=e(11151);const s={title:"Pandas \u5165\u95e8\u6559\u7a0b",tags:["Python","Pandas"]},l=void 0,t={id:"machinelearning/numpy-pandas/Python-10-minutes-to-pandas",title:"Pandas \u5165\u95e8\u6559\u7a0b",description:"Pandas \u662f\u7528\u4e8e\u6570\u636e\u5206\u6790 Python \u7684\u8f6f\u4ef6\u5e93\uff0c\u63d0\u4f9b\u4e86\u5927\u91cf\u5feb\u901f\u4fbf\u6377\u5730\u5904\u7406\u6570\u636e\u7684\u51fd\u6570\u548c\u65b9\u6cd5\u3002",source:"@site/docs/machinelearning/numpy-pandas/20180116-Python-10-minutes-to-pandas.md",sourceDirName:"machinelearning/numpy-pandas",slug:"/machinelearning/numpy-pandas/Python-10-minutes-to-pandas",permalink:"/docusaurus/docs/machinelearning/numpy-pandas/Python-10-minutes-to-pandas",draft:!1,unlisted:!1,tags:[{label:"Python",permalink:"/docusaurus/docs/tags/python"},{label:"Pandas",permalink:"/docusaurus/docs/tags/pandas"}],version:"current",sidebarPosition:20180116,frontMatter:{title:"Pandas \u5165\u95e8\u6559\u7a0b",tags:["Python","Pandas"]},sidebar:"machinelearningSidebar",previous:{title:"Python NumPy \u5165\u95e8\u6559\u7a0b",permalink:"/docusaurus/docs/machinelearning/numpy-pandas/Python-cs231n-numpy-tutorial"},next:{title:"Scikit-learn \u7684\u7ba1\u9053\u7c7b\u578b",permalink:"/docusaurus/docs/machinelearning/sklearn-pipeline/AI-sklearn-pipeline"}},c={},o=[{value:"\u5bf9\u8c61\u521b\u5efa",id:"\u5bf9\u8c61\u521b\u5efa",level:2},{value:"\u6570\u636e\u67e5\u770b",id:"\u6570\u636e\u67e5\u770b",level:2},{value:"\u9009\u62e9",id:"\u9009\u62e9",level:2},{value:"\u83b7\u53d6",id:"\u83b7\u53d6",level:3},{value:"\u6309\u6807\u7b7e\u9009\u62e9",id:"\u6309\u6807\u7b7e\u9009\u62e9",level:3},{value:"\u6309\u4f4d\u7f6e\u9009\u62e9",id:"\u6309\u4f4d\u7f6e\u9009\u62e9",level:3},{value:"\u5e03\u5c14\u7d22\u5f15",id:"\u5e03\u5c14\u7d22\u5f15",level:3},{value:"\u8bbe\u7f6e",id:"\u8bbe\u7f6e",level:3},{value:"\u6570\u636e\u7f3a\u5931",id:"\u6570\u636e\u7f3a\u5931",level:2},{value:"\u64cd\u4f5c",id:"\u64cd\u4f5c",level:2},{value:"\u7edf\u8ba1",id:"\u7edf\u8ba1",level:3},{value:"\u5e94\u7528\u51fd\u6570",id:"\u5e94\u7528\u51fd\u6570",level:3},{value:"\u76f4\u65b9\u56fe",id:"\u76f4\u65b9\u56fe",level:3},{value:"\u5b57\u7b26\u4e32\u65b9\u6cd5",id:"\u5b57\u7b26\u4e32\u65b9\u6cd5",level:3},{value:"\u5408\u5e76",id:"\u5408\u5e76",level:2},{value:"Concat",id:"concat",level:3},{value:"Join",id:"join",level:3},{value:"Append",id:"append",level:3},{value:"\u5206\u7ec4",id:"\u5206\u7ec4",level:2},{value:"\u91cd\u5851",id:"\u91cd\u5851",level:2},{value:"Stack",id:"stack",level:3},{value:"\u900f\u89c6\u8868",id:"\u900f\u89c6\u8868",level:3},{value:"\u65f6\u95f4\u5e8f\u5217",id:"\u65f6\u95f4\u5e8f\u5217",level:2},{value:"Categorical",id:"categorical",level:2},{value:"\u7ed8\u56fe",id:"\u7ed8\u56fe",level:2},{value:"\u6570\u636e\u5bfc\u5165/\u5bfc\u51fa",id:"\u6570\u636e\u5bfc\u5165\u5bfc\u51fa",level:2},{value:"CSV",id:"csv",level:3},{value:"HDF5",id:"hdf5",level:3},{value:"Excel",id:"excel",level:3}];function i(n){const r={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,d.a)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.a,{href:"https://pandas.pydata.org/",children:"Pandas"})," \u662f\u7528\u4e8e\u6570\u636e\u5206\u6790 Python \u7684\u8f6f\u4ef6\u5e93\uff0c\u63d0\u4f9b\u4e86\u5927\u91cf\u5feb\u901f\u4fbf\u6377\u5730\u5904\u7406\u6570\u636e\u7684\u51fd\u6570\u548c\u65b9\u6cd5\u3002\r\n\u672c\u6587\u7ffb\u8bd1\u81ea\u5b98\u65b9\u6587\u6863 ",(0,a.jsx)(r.a,{href:"http://pandas.pydata.org/pandas-docs/stable/10min.html",children:"10 Minutes to pandas"})," \u3002"]}),"\n",(0,a.jsx)(r.p,{children:"\u5bfc\u5165\u6240\u9700\u7684\u8f6f\u4ef6\u5305\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [1]: import pandas as pd\r\n\r\nIn [2]: import numpy as np\r\n\r\nIn [3]: import matplotlib.pyplot as plt\n"})}),"\n",(0,a.jsx)(r.h2,{id:"\u5bf9\u8c61\u521b\u5efa",children:"\u5bf9\u8c61\u521b\u5efa"}),"\n",(0,a.jsxs)(r.p,{children:["\u8bf7\u53c2\u9605",(0,a.jsx)(r.a,{href:"https://pandas.pydata.org/pandas-docs/stable/dsintro.html#dsintro",children:"\u6570\u636e\u7ed3\u6784\u4ecb\u7ecd\u90e8\u5206"}),"\u3002"]}),"\n",(0,a.jsxs)(r.p,{children:["\u901a\u8fc7\u4f20\u9012\u5217\u8868\u521b\u5efa ",(0,a.jsx)(r.strong,{children:(0,a.jsx)(r.a,{href:"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.html#pandas.Series",children:"Series"})}),"\uff0c\u5176\u4e2d pandas \u4f1a\u521b\u5efa\u9ed8\u8ba4\u7684\u6574\u6570\u7d22\u5f15\uff1a"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [4]: s = pd.Series([1,3,5,np.nan,6,8])\r\n\r\nIn [5]: s\r\nOut[5]: \r\n0    1.0\r\n1    3.0\r\n2    5.0\r\n3    NaN\r\n4    6.0\r\n5    8.0\r\ndtype: float64\n"})}),"\n",(0,a.jsxs)(r.p,{children:["\u901a\u8fc7\u4f20\u9012\u5177\u6709\u65e5\u671f\u65f6\u95f4\u7d22\u5f15\u548c\u6807\u7b7e\u5217\u7684 numpy \u6570\u7ec4\uff0c\u521b\u5efa ",(0,a.jsx)(r.strong,{children:(0,a.jsx)(r.a,{href:"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html#pandas.DataFrame",children:"DataFrame"})}),"\uff1a"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [6]: dates = pd.date_range('20130101', periods=6)\r\n\r\nIn [7]: dates\r\nOut[7]: \r\nDatetimeIndex(['2013-01-01', '2013-01-02', '2013-01-03', '2013-01-04',\r\n               '2013-01-05', '2013-01-06'],\r\n              dtype='datetime64[ns]', freq='D')\r\n\r\nIn [8]: df = pd.DataFrame(np.random.randn(6,4), index=dates, columns=list('ABCD'))\r\n\r\nIn [9]: df\r\nOut[9]: \r\n                   A         B         C         D\r\n2013-01-01  0.469112 -0.282863 -1.509059 -1.135632\r\n2013-01-02  1.212112 -0.173215  0.119209 -1.044236\r\n2013-01-03 -0.861849 -2.104569 -0.494929  1.071804\r\n2013-01-04  0.721555 -0.706771 -1.039575  0.271860\r\n2013-01-05 -0.424972  0.567020  0.276232 -1.087401\r\n2013-01-06 -0.673690  0.113648 -1.478427  0.524988\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u901a\u8fc7\u4f20\u9012\u7c7b\u4f3c\u5e8f\u5217\u7ed3\u6784\u7684\u5b57\u5178\uff0c\u6765\u521b\u5efa DataFrame\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [10]: df2 = pd.DataFrame({ 'A' : 1.,\r\n   ....:                      'B' : pd.Timestamp('20130102'),\r\n   ....:                      'C' : pd.Series(1,index=list(range(4)),dtype='float32'),\r\n   ....:                      'D' : np.array([3] * 4,dtype='int32'),\r\n   ....:                      'E' : pd.Categorical([\"test\",\"train\",\"test\",\"train\"]),\r\n   ....:                      'F' : 'foo' })\r\n   ....: \r\n\r\nIn [11]: df2\r\nOut[11]: \r\n     A          B    C  D      E    F\r\n0  1.0 2013-01-02  1.0  3   test  foo\r\n1  1.0 2013-01-02  1.0  3  train  foo\r\n2  1.0 2013-01-02  1.0  3   test  foo\r\n3  1.0 2013-01-02  1.0  3  train  foo\n"})}),"\n",(0,a.jsxs)(r.p,{children:["\u901a\u8fc7\u7279\u5b9a\u7684 ",(0,a.jsx)(r.strong,{children:(0,a.jsx)(r.a,{href:"http://pandas.pydata.org/pandas-docs/stable/basics.html#basics-dtypes",children:"dtypes"})})," \u65b9\u6cd5\uff0c\u67e5\u770b\u6bcf\u5217\u7684\u6570\u636e\u7c7b\u578b\uff1a"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [12]: df2.dtypes\r\nOut[12]: \r\nA           float64\r\nB    datetime64[ns]\r\nC           float32\r\nD             int32\r\nE          category\r\nF            object\r\ndtype: object\n"})}),"\n",(0,a.jsxs)(r.p,{children:["\u4f7f\u7528 IPython \u65f6\uff0c\u6309 ",(0,a.jsx)(r.code,{children:"TAB"})," \u53ef\u4ee5\u81ea\u52a8\u8865\u5168\uff1a"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [13]: df2.<TAB>\r\ndf2.A                  df2.bool\r\ndf2.abs                df2.boxplot\r\ndf2.add                df2.C\r\ndf2.add_prefix         df2.clip\r\ndf2.add_suffix         df2.clip_lower\r\ndf2.align              df2.clip_upper\r\ndf2.all                df2.columns\r\ndf2.any                df2.combine\r\ndf2.append             df2.combine_first\r\ndf2.apply              df2.compound\r\ndf2.applymap           df2.consolidate\r\ndf2.D\n"})}),"\n",(0,a.jsx)(r.h2,{id:"\u6570\u636e\u67e5\u770b",children:"\u6570\u636e\u67e5\u770b"}),"\n",(0,a.jsxs)(r.p,{children:["\u8bf7\u53c2\u9605",(0,a.jsx)(r.a,{href:"https://pandas.pydata.org/pandas-docs/stable/basics.html#basics",children:"\u57fa\u7840\u90e8\u5206"}),"\u3002"]}),"\n",(0,a.jsx)(r.p,{children:"\u67e5\u770b\u9876\u90e8\u548c\u5e95\u90e8\u7684\u884c\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [14]: df.head()\r\nOut[14]: \r\n                   A         B         C         D\r\n2013-01-01  0.469112 -0.282863 -1.509059 -1.135632\r\n2013-01-02  1.212112 -0.173215  0.119209 -1.044236\r\n2013-01-03 -0.861849 -2.104569 -0.494929  1.071804\r\n2013-01-04  0.721555 -0.706771 -1.039575  0.271860\r\n2013-01-05 -0.424972  0.567020  0.276232 -1.087401\r\n\r\nIn [15]: df.tail(3)\r\nOut[15]: \r\n                   A         B         C         D\r\n2013-01-04  0.721555 -0.706771 -1.039575  0.271860\r\n2013-01-05 -0.424972  0.567020  0.276232 -1.087401\r\n2013-01-06 -0.673690  0.113648 -1.478427  0.524988\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u663e\u793a\u7d22\u5f15\uff0c\u5217\u548c numpy \u6570\u636e\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [16]: df.index\r\nOut[16]: \r\nDatetimeIndex(['2013-01-01', '2013-01-02', '2013-01-03', '2013-01-04',\r\n               '2013-01-05', '2013-01-06'],\r\n              dtype='datetime64[ns]', freq='D')\r\n\r\nIn [17]: df.columns\r\nOut[17]: Index(['A', 'B', 'C', 'D'], dtype='object')\r\n\r\nIn [18]: df.values\r\nOut[18]: \r\narray([[ 0.4691, -0.2829, -1.5091, -1.1356],\r\n       [ 1.2121, -0.1732,  0.1192, -1.0442],\r\n       [-0.8618, -2.1046, -0.4949,  1.0718],\r\n       [ 0.7216, -0.7068, -1.0396,  0.2719],\r\n       [-0.425 ,  0.567 ,  0.2762, -1.0874],\r\n       [-0.6737,  0.1136, -1.4784,  0.525 ]])\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u663e\u793a\u6570\u636e\u7684\u5feb\u901f\u7edf\u8ba1\u6982\u8981\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [19]: df.describe()\r\nOut[19]: \r\n              A         B         C         D\r\ncount  6.000000  6.000000  6.000000  6.000000\r\nmean   0.073711 -0.431125 -0.687758 -0.233103\r\nstd    0.843157  0.922818  0.779887  0.973118\r\nmin   -0.861849 -2.104569 -1.509059 -1.135632\r\n25%   -0.611510 -0.600794 -1.368714 -1.076610\r\n50%    0.022070 -0.228039 -0.767252 -0.386188\r\n75%    0.658444  0.041933 -0.034326  0.461706\r\nmax    1.212112  0.567020  0.276232  1.071804\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u5bf9\u6570\u636e\u8fdb\u884c\u8f6c\u7f6e\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [20]: df.T\r\nOut[20]: \r\n   2013-01-01  2013-01-02  2013-01-03  2013-01-04  2013-01-05  2013-01-06\r\nA    0.469112    1.212112   -0.861849    0.721555   -0.424972   -0.673690\r\nB   -0.282863   -0.173215   -2.104569   -0.706771    0.567020    0.113648\r\nC   -1.509059    0.119209   -0.494929   -1.039575    0.276232   -1.478427\r\nD   -1.135632   -1.044236    1.071804    0.271860   -1.087401    0.524988\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u6309\u8f74\u6392\u5e8f\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [21]: df.sort_index(axis=1, ascending=False)\r\nOut[21]: \r\n                   D         C         B         A\r\n2013-01-01 -1.135632 -1.509059 -0.282863  0.469112\r\n2013-01-02 -1.044236  0.119209 -0.173215  1.212112\r\n2013-01-03  1.071804 -0.494929 -2.104569 -0.861849\r\n2013-01-04  0.271860 -1.039575 -0.706771  0.721555\r\n2013-01-05 -1.087401  0.276232  0.567020 -0.424972\r\n2013-01-06  0.524988 -1.478427  0.113648 -0.673690\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u6309\u503c\u6392\u5e8f\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [22]: df.sort_values(by='B')\r\nOut[22]: \r\n                   A         B         C         D\r\n2013-01-03 -0.861849 -2.104569 -0.494929  1.071804\r\n2013-01-04  0.721555 -0.706771 -1.039575  0.271860\r\n2013-01-01  0.469112 -0.282863 -1.509059 -1.135632\r\n2013-01-02  1.212112 -0.173215  0.119209 -1.044236\r\n2013-01-06 -0.673690  0.113648 -1.478427  0.524988\r\n2013-01-05 -0.424972  0.567020  0.276232 -1.087401\n"})}),"\n",(0,a.jsx)(r.h2,{id:"\u9009\u62e9",children:"\u9009\u62e9"}),"\n",(0,a.jsxs)(r.blockquote,{children:["\n",(0,a.jsxs)(r.p,{children:["\u6ce8\u610f\u867d\u7136\u6807\u51c6 Python / Numpy \u8868\u8fbe\u5f0f\u975e\u5e38\u76f4\u89c2\u5e76\u4e14\u53ef\u4ee5\u65b9\u4fbf\u5730\u7528\u4e8e\u4ea4\u4e92\u5f0f\u5de5\u4f5c\uff0c\u4f46\u5728\u4ee3\u7801\u4e2d\uff0c\u63a8\u8350\u4f7f\u7528\u4f18\u5316\u7684\u6570\u636e\u8bbf\u95ee\u65b9\u6cd5 ",(0,a.jsx)(r.code,{children:".at"}),"\u3001",(0,a.jsx)(r.code,{children:".iat"}),"\u3001",(0,a.jsx)(r.code,{children:".loc"}),"\u3001",(0,a.jsx)(r.code,{children:".iloc"})," \u548c ",(0,a.jsx)(r.code,{children:".ix"}),"\u3002"]}),"\n"]}),"\n",(0,a.jsxs)(r.p,{children:["\u8bf7\u53c2\u9605\u7d22\u5f15\u6587\u6863",(0,a.jsx)(r.a,{href:"http://pandas.pydata.org/pandas-docs/stable/indexing.html#indexing",children:"\u6570\u636e\u7d22\u5f15\u548c\u9009\u62e9"}),"\u548c",(0,a.jsx)(r.a,{href:"http://pandas.pydata.org/pandas-docs/stable/advanced.html#advanced",children:"\u591a\u7d22\u5f15/\u9ad8\u7ea7\u7d22\u5f15"}),"\u3002"]}),"\n",(0,a.jsx)(r.h3,{id:"\u83b7\u53d6",children:"\u83b7\u53d6"}),"\n",(0,a.jsxs)(r.p,{children:["\u9009\u62e9\u5355\u5217\uff0c\u5c06\u4f1a\u8fd4\u56de\u4e00\u4e2a Series\uff0c\u76f8\u5f53\u4e8e ",(0,a.jsx)(r.code,{children:"df.A"}),"\uff1a"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [23]: df['A']\r\nOut[23]: \r\n2013-01-01    0.469112\r\n2013-01-02    1.212112\r\n2013-01-03   -0.861849\r\n2013-01-04    0.721555\r\n2013-01-05   -0.424972\r\n2013-01-06   -0.673690\r\nFreq: D, Name: A, dtype: float64\n"})}),"\n",(0,a.jsxs)(r.p,{children:["\u901a\u8fc7 ",(0,a.jsx)(r.code,{children:"[]"})," \u5bf9\u884c\u8fdb\u884c\u5207\u7247\uff1a"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [24]: df[0:3]\r\nOut[24]: \r\n                   A         B         C         D\r\n2013-01-01  0.469112 -0.282863 -1.509059 -1.135632\r\n2013-01-02  1.212112 -0.173215  0.119209 -1.044236\r\n2013-01-03 -0.861849 -2.104569 -0.494929  1.071804\r\n\r\nIn [25]: df['20130102':'20130104']\r\nOut[25]: \r\n                   A         B         C         D\r\n2013-01-02  1.212112 -0.173215  0.119209 -1.044236\r\n2013-01-03 -0.861849 -2.104569 -0.494929  1.071804\r\n2013-01-04  0.721555 -0.706771 -1.039575  0.271860\n"})}),"\n",(0,a.jsx)(r.h3,{id:"\u6309\u6807\u7b7e\u9009\u62e9",children:"\u6309\u6807\u7b7e\u9009\u62e9"}),"\n",(0,a.jsxs)(r.p,{children:["\u8bf7\u53c2\u9605",(0,a.jsx)(r.a,{href:"http://pandas.pydata.org/pandas-docs/stable/indexing.html#indexing-label",children:"\u6309\u6807\u7b7e\u9009\u62e9"}),"\u3002"]}),"\n",(0,a.jsx)(r.p,{children:"\u4f7f\u7528\u6807\u7b7e\u83b7\u53d6\u5355\u884c\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [26]: df.loc[dates[0]]\r\nOut[26]: \r\nA    0.469112\r\nB   -0.282863\r\nC   -1.509059\r\nD   -1.135632\r\nName: 2013-01-01 00:00:00, dtype: float64\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u901a\u8fc7\u6807\u7b7e\u5728\u591a\u4e2a\u8f74\u4e0a\u9009\u62e9\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [27]: df.loc[:,['A','B']]\r\nOut[27]: \r\n                   A         B\r\n2013-01-01  0.469112 -0.282863\r\n2013-01-02  1.212112 -0.173215\r\n2013-01-03 -0.861849 -2.104569\r\n2013-01-04  0.721555 -0.706771\r\n2013-01-05 -0.424972  0.567020\r\n2013-01-06 -0.673690  0.113648\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u4f7f\u7528\u6807\u7b7e\u7684\u8d77\u6b62\u7aef\u70b9\u8fdb\u884c\u5207\u7247\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [28]: df.loc['20130102':'20130104',['A','B']]\r\nOut[28]: \r\n                   A         B\r\n2013-01-02  1.212112 -0.173215\r\n2013-01-03 -0.861849 -2.104569\r\n2013-01-04  0.721555 -0.706771\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u8fd4\u56de\u964d\u7ef4\u7684\u5bf9\u8c61\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [29]: df.loc['20130102',['A','B']]\r\nOut[29]: \r\nA    1.212112\r\nB   -0.173215\r\nName: 2013-01-02 00:00:00, dtype: float64\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u6309\u4f4d\u7f6e\u53d6\u503c\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [30]: df.loc[dates[0],'A']\r\nOut[30]: 0.46911229990718628\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u5feb\u901f\u6309\u4f4d\u7f6e\u53d6\u503c\uff08\u540c\u4e0a\u4e2a\u65b9\u6cd5\uff09\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [31]: df.at[dates[0],'A']\r\nOut[31]: 0.46911229990718628\n"})}),"\n",(0,a.jsx)(r.h3,{id:"\u6309\u4f4d\u7f6e\u9009\u62e9",children:"\u6309\u4f4d\u7f6e\u9009\u62e9"}),"\n",(0,a.jsxs)(r.p,{children:["\u8bf7\u53c2\u9605",(0,a.jsx)(r.a,{href:"https://pandas.pydata.org/pandas-docs/stable/indexing.html#indexing-integer",children:"\u6309\u4f4d\u7f6e\u9009\u62e9"}),"\u3002"]}),"\n",(0,a.jsx)(r.p,{children:"\u901a\u8fc7\u4f20\u9012\u6574\u6570\u4f4d\u7f6e\u8fdb\u884c\u9009\u62e9\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [32]: df.iloc[3]\r\nOut[32]: \r\nA    0.721555\r\nB   -0.706771\r\nC   -1.039575\r\nD    0.271860\r\nName: 2013-01-04 00:00:00, dtype: float64\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u4f7f\u7528\u6574\u6570\u8fdb\u884c\u5207\u7247\uff0c\u7c7b\u4f3c\u4e8e numpy / python\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [33]: df.iloc[3:5,0:2]\r\nOut[33]: \r\n                   A         B\r\n2013-01-04  0.721555 -0.706771\r\n2013-01-05 -0.424972  0.567020\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u6307\u5b9a\u6574\u6570\u5217\u8868\u53d6\u884c\u5217\uff0c\u7c7b\u4f3c\u4e8e numpy / python\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [34]: df.iloc[[1,2,4],[0,2]]\r\nOut[34]: \r\n                   A         C\r\n2013-01-02  1.212112  0.119209\r\n2013-01-03 -0.861849 -0.494929\r\n2013-01-05 -0.424972  0.276232\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u5bf9\u884c\u8fdb\u884c\u5207\u7247\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [35]: df.iloc[1:3,:]\r\nOut[35]: \r\n                   A         B         C         D\r\n2013-01-02  1.212112 -0.173215  0.119209 -1.044236\r\n2013-01-03 -0.861849 -2.104569 -0.494929  1.071804\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u5bf9\u5217\u8fdb\u884c\u5207\u7247\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [36]: df.iloc[:,1:3]\r\nOut[36]: \r\n                   B         C\r\n2013-01-01 -0.282863 -1.509059\r\n2013-01-02 -0.173215  0.119209\r\n2013-01-03 -2.104569 -0.494929\r\n2013-01-04 -0.706771 -1.039575\r\n2013-01-05  0.567020  0.276232\r\n2013-01-06  0.113648 -1.478427\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u6309\u4f4d\u7f6e\u53d6\u503c\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [37]: df.iloc[1,1]\r\nOut[37]: -0.17321464905330858\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u5feb\u901f\u6309\u4f4d\u7f6e\u53d6\u503c\uff08\u540c\u4e0a\u4e2a\u65b9\u6cd5\uff09\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [38]: df.iat[1,1]\r\nOut[38]: -0.17321464905330858\n"})}),"\n",(0,a.jsx)(r.h3,{id:"\u5e03\u5c14\u7d22\u5f15",children:"\u5e03\u5c14\u7d22\u5f15"}),"\n",(0,a.jsx)(r.p,{children:"\u5bf9\u6ee1\u8db3\u5e03\u5c14\u6761\u4ef6\u7684\u5355\u5217\u5143\u7d20\u53d6\u503c\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [39]: df[df.A > 0]\r\nOut[39]: \r\n                   A         B         C         D\r\n2013-01-01  0.469112 -0.282863 -1.509059 -1.135632\r\n2013-01-02  1.212112 -0.173215  0.119209 -1.044236\r\n2013-01-04  0.721555 -0.706771 -1.039575  0.271860\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u5bf9\u6ee1\u8db3\u5e03\u5c14\u6761\u4ef6\u7684 DataFrame \u53d6\u503c\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [40]: df[df > 0]\r\nOut[40]: \r\n                   A         B         C         D\r\n2013-01-01  0.469112       NaN       NaN       NaN\r\n2013-01-02  1.212112       NaN  0.119209       NaN\r\n2013-01-03       NaN       NaN       NaN  1.071804\r\n2013-01-04  0.721555       NaN       NaN  0.271860\r\n2013-01-05       NaN  0.567020  0.276232       NaN\r\n2013-01-06       NaN  0.113648       NaN  0.524988\n"})}),"\n",(0,a.jsxs)(r.p,{children:["\u4f7f\u7528 ",(0,a.jsx)(r.code,{children:"isin()"})," \u65b9\u6cd5\u8fdb\u884c\u8fc7\u6ee4\uff1a"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [41]: df2 = df.copy()\r\n\r\nIn [42]: df2['E'] = ['one', 'one','two','three','four','three']\r\n\r\nIn [43]: df2\r\nOut[43]: \r\n                   A         B         C         D      E\r\n2013-01-01  0.469112 -0.282863 -1.509059 -1.135632    one\r\n2013-01-02  1.212112 -0.173215  0.119209 -1.044236    one\r\n2013-01-03 -0.861849 -2.104569 -0.494929  1.071804    two\r\n2013-01-04  0.721555 -0.706771 -1.039575  0.271860  three\r\n2013-01-05 -0.424972  0.567020  0.276232 -1.087401   four\r\n2013-01-06 -0.673690  0.113648 -1.478427  0.524988  three\r\n\r\nIn [44]: df2[df2['E'].isin(['two','four'])]\r\nOut[44]: \r\n                   A         B         C         D     E\r\n2013-01-03 -0.861849 -2.104569 -0.494929  1.071804   two\r\n2013-01-05 -0.424972  0.567020  0.276232 -1.087401  four\n"})}),"\n",(0,a.jsx)(r.h3,{id:"\u8bbe\u7f6e",children:"\u8bbe\u7f6e"}),"\n",(0,a.jsx)(r.p,{children:"\u8bbe\u7f6e\u65b0\u5217\uff0c\u81ea\u52a8\u6309\u7d22\u5f15\u6392\u5217\u6570\u636e\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [45]: s1 = pd.Series([1,2,3,4,5,6], index=pd.date_range('20130102', periods=6))\r\n\r\nIn [46]: s1\r\nOut[46]: \r\n2013-01-02    1\r\n2013-01-03    2\r\n2013-01-04    3\r\n2013-01-05    4\r\n2013-01-06    5\r\n2013-01-07    6\r\nFreq: D, dtype: int64\r\n\r\nIn [47]: df['F'] = s1\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u6309\u6807\u7b7e\u8bbe\u7f6e\u65b0\u7684\u503c\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [48]: df.at[dates[0],'A'] = 0\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u6309\u4f4d\u7f6e\u8bbe\u7f6e\u65b0\u7684\u503c\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [49]: df.iat[0,1] = 0\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u901a\u8fc7\u5206\u914d\u4e00\u4e2a numpy \u6570\u7ec4\u8bbe\u7f6e\u65b0\u7684\u503c\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [50]: df.loc[:,'D'] = np.array([5] * len(df))\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u4e0a\u8ff0\u64cd\u4f5c\u7ed3\u679c\u5982\u4e0b\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [51]: df\r\nOut[51]: \r\n                   A         B         C  D    F\r\n2013-01-01  0.000000  0.000000 -1.509059  5  NaN\r\n2013-01-02  1.212112 -0.173215  0.119209  5  1.0\r\n2013-01-03 -0.861849 -2.104569 -0.494929  5  2.0\r\n2013-01-04  0.721555 -0.706771 -1.039575  5  3.0\r\n2013-01-05 -0.424972  0.567020  0.276232  5  4.0\r\n2013-01-06 -0.673690  0.113648 -1.478427  5  5.0\n"})}),"\n",(0,a.jsxs)(r.p,{children:["\u901a\u8fc7 ",(0,a.jsx)(r.code,{children:"where"})," \u8bbe\u7f6e\u503c\uff1a"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [52]: df2 = df.copy()\r\n\r\nIn [53]: df2[df2 > 0] = -df2\r\n\r\nIn [54]: df2\r\nOut[54]: \r\n                   A         B         C  D    F\r\n2013-01-01  0.000000  0.000000 -1.509059 -5  NaN\r\n2013-01-02 -1.212112 -0.173215 -0.119209 -5 -1.0\r\n2013-01-03 -0.861849 -2.104569 -0.494929 -5 -2.0\r\n2013-01-04 -0.721555 -0.706771 -1.039575 -5 -3.0\r\n2013-01-05 -0.424972 -0.567020 -0.276232 -5 -4.0\r\n2013-01-06 -0.673690 -0.113648 -1.478427 -5 -5.0\n"})}),"\n",(0,a.jsx)(r.h2,{id:"\u6570\u636e\u7f3a\u5931",children:"\u6570\u636e\u7f3a\u5931"}),"\n",(0,a.jsxs)(r.p,{children:["pandas \u4f7f\u7528 ",(0,a.jsx)(r.code,{children:"np.nan"})," \u6765\u8868\u793a\u7f3a\u5931\u7684\u6570\u636e\uff0c\u7f3a\u5931\u7684\u6570\u636e\u9ed8\u8ba4\u4e0d\u53c2\u4e0e\u4efb\u4f55\u8ba1\u7b97\u3002\r\n\u8bf7\u53c2\u9605",(0,a.jsx)(r.a,{href:"https://pandas.pydata.org/pandas-docs/stable/missing_data.html#missing-data",children:"\u6570\u636e\u7f3a\u5931\u90e8\u5206"}),"\u3002"]}),"\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.code,{children:"reindex()"})," \u5141\u8bb8\u66f4\u6539/\u6dfb\u52a0/\u5220\u9664\u6307\u5b9a\u8f74\u4e0a\u7684\u7d22\u5f15\uff0c\u5e76\u8fd4\u56de\u6570\u636e\u7684\u526f\u672c\uff1a"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [55]: df1 = df.reindex(index=dates[0:4], columns=list(df.columns) + ['E'])\r\n\r\nIn [56]: df1.loc[dates[0]:dates[1],'E'] = 1\r\n\r\nIn [57]: df1\r\nOut[57]: \r\n                   A         B         C  D    F    E\r\n2013-01-01  0.000000  0.000000 -1.509059  5  NaN  1.0\r\n2013-01-02  1.212112 -0.173215  0.119209  5  1.0  1.0\r\n2013-01-03 -0.861849 -2.104569 -0.494929  5  2.0  NaN\r\n2013-01-04  0.721555 -0.706771 -1.039575  5  3.0  NaN\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u5220\u9664\u4efb\u4f55\u5177\u6709\u7f3a\u5931\u6570\u636e\u7684\u884c\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [58]: df1.dropna(how='any')\r\nOut[58]: \r\n                   A         B         C  D    F    E\r\n2013-01-02  1.212112 -0.173215  0.119209  5  1.0  1.0\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u5bf9\u7f3a\u5931\u6570\u636e\u8fdb\u884c\u586b\u5145\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [59]: df1.fillna(value=5)\r\nOut[59]: \r\n                   A         B         C  D    F    E\r\n2013-01-01  0.000000  0.000000 -1.509059  5  5.0  1.0\r\n2013-01-02  1.212112 -0.173215  0.119209  5  1.0  1.0\r\n2013-01-03 -0.861849 -2.104569 -0.494929  5  2.0  5.0\r\n2013-01-04  0.721555 -0.706771 -1.039575  5  3.0  5.0\n"})}),"\n",(0,a.jsxs)(r.p,{children:["\u83b7\u53d6\u503c\u4e3a ",(0,a.jsx)(r.code,{children:"nan"})," \u7684\u5e03\u5c14\u63a9\u7801\uff1a"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [60]: pd.isna(df1)\r\nOut[60]: \r\n                A      B      C      D      F      E\r\n2013-01-01  False  False  False  False   True  False\r\n2013-01-02  False  False  False  False  False  False\r\n2013-01-03  False  False  False  False  False   True\r\n2013-01-04  False  False  False  False  False   True\n"})}),"\n",(0,a.jsx)(r.h2,{id:"\u64cd\u4f5c",children:"\u64cd\u4f5c"}),"\n",(0,a.jsxs)(r.p,{children:["\u8bf7\u53c2\u9605",(0,a.jsx)(r.a,{href:"https://pandas.pydata.org/pandas-docs/stable/basics.html#basics-binop",children:"\u64cd\u4f5c\u7684\u57fa\u672c\u90e8\u5206"}),"\u3002"]}),"\n",(0,a.jsx)(r.h3,{id:"\u7edf\u8ba1",children:"\u7edf\u8ba1"}),"\n",(0,a.jsx)(r.p,{children:"\u4e22\u5931\u7684\u6570\u636e\u4e0d\u53c2\u4e0e\u4e00\u822c\u64cd\u4f5c\u3002"}),"\n",(0,a.jsx)(r.p,{children:"\u5e73\u5747\u503c\u7edf\u8ba1\uff08\u9ed8\u8ba4\u4e3a\u8f74 0\uff09\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [61]: df.mean()\r\nOut[61]: \r\nA   -0.004474\r\nB   -0.383981\r\nC   -0.687758\r\nD    5.000000\r\nF    3.000000\r\ndtype: float64\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u5e73\u5747\u503c\u7edf\u8ba1\uff08\u8f74 1\uff09\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [62]: df.mean(1)\r\nOut[62]: \r\n2013-01-01    0.872735\r\n2013-01-02    1.431621\r\n2013-01-03    0.707731\r\n2013-01-04    1.395042\r\n2013-01-05    1.883656\r\n2013-01-06    1.592306\r\nFreq: D, dtype: float64\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u5177\u6709\u5e7f\u64ad\u529f\u80fd\uff0c\u53ef\u4ee5\u5bf9\u4e8e\u62e5\u6709\u4e0d\u540c\u7ef4\u5ea6\u3001\u53ef\u4ee5\u5bf9\u9f50\u7684\u5bf9\u8c61\u8fdb\u884c\u64cd\u4f5c\uff08\u540c numpy \u6570\u7ec4\uff09\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [63]: s = pd.Series([1,3,5,np.nan,6,8], index=dates).shift(2)\r\n\r\nIn [64]: s\r\nOut[64]: \r\n2013-01-01    NaN\r\n2013-01-02    NaN\r\n2013-01-03    1.0\r\n2013-01-04    3.0\r\n2013-01-05    5.0\r\n2013-01-06    NaN\r\nFreq: D, dtype: float64\r\n\r\nIn [65]: df.sub(s, axis='index')\r\nOut[65]: \r\n                   A         B         C    D    F\r\n2013-01-01       NaN       NaN       NaN  NaN  NaN\r\n2013-01-02       NaN       NaN       NaN  NaN  NaN\r\n2013-01-03 -1.861849 -3.104569 -1.494929  4.0  1.0\r\n2013-01-04 -2.278445 -3.706771 -4.039575  2.0  0.0\r\n2013-01-05 -5.424972 -4.432980 -4.723768  0.0 -1.0\r\n2013-01-06       NaN       NaN       NaN  NaN  NaN\n"})}),"\n",(0,a.jsx)(r.h3,{id:"\u5e94\u7528\u51fd\u6570",children:"\u5e94\u7528\u51fd\u6570"}),"\n",(0,a.jsx)(r.p,{children:"\u5c06\u51fd\u6570\u5e94\u7528\u4e8e\u6570\u636e\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [66]: df.apply(np.cumsum)\r\nOut[66]: \r\n                   A         B         C   D     F\r\n2013-01-01  0.000000  0.000000 -1.509059   5   NaN\r\n2013-01-02  1.212112 -0.173215 -1.389850  10   1.0\r\n2013-01-03  0.350263 -2.277784 -1.884779  15   3.0\r\n2013-01-04  1.071818 -2.984555 -2.924354  20   6.0\r\n2013-01-05  0.646846 -2.417535 -2.648122  25  10.0\r\n2013-01-06 -0.026844 -2.303886 -4.126549  30  15.0\r\n\r\nIn [67]: df.apply(lambda x: x.max() - x.min())\r\nOut[67]: \r\nA    2.073961\r\nB    2.671590\r\nC    1.785291\r\nD    0.000000\r\nF    4.000000\r\ndtype: float64\n"})}),"\n",(0,a.jsx)(r.h3,{id:"\u76f4\u65b9\u56fe",children:"\u76f4\u65b9\u56fe"}),"\n",(0,a.jsxs)(r.p,{children:["\u8bf7\u53c2\u9605",(0,a.jsx)(r.a,{href:"https://pandas.pydata.org/pandas-docs/stable/basics.html#basics-discretization",children:"\u76f4\u65b9\u56fe\u548c\u79bb\u6563\u5316"}),"\u3002"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [68]: s = pd.Series(np.random.randint(0, 7, size=10))\r\n\r\nIn [69]: s\r\nOut[69]: \r\n0    4\r\n1    2\r\n2    1\r\n3    2\r\n4    6\r\n5    4\r\n6    4\r\n7    6\r\n8    4\r\n9    4\r\ndtype: int64\r\n\r\nIn [70]: s.value_counts()\r\nOut[70]: \r\n4    5\r\n6    2\r\n2    2\r\n1    1\r\ndtype: int64\n"})}),"\n",(0,a.jsx)(r.h3,{id:"\u5b57\u7b26\u4e32\u65b9\u6cd5",children:"\u5b57\u7b26\u4e32\u65b9\u6cd5"}),"\n",(0,a.jsxs)(r.p,{children:["Series \u7684 ",(0,a.jsx)(r.code,{children:"str"})," \u5c5e\u6027\u5177\u6709\u5b57\u7b26\u4e32\u5904\u7406\u65b9\u6cd5\uff0c\u4fbf\u4e8e\u5bf9\u6570\u7ec4\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u8fdb\u884c\u64cd\u4f5c\uff0c\u5982\u4e0b\u6240\u793a\u3002",(0,a.jsx)(r.code,{children:"str"})," \u7684\u6a21\u5f0f\u5339\u914d\u901a\u5e38\u9ed8\u8ba4\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u3002\r\n\u8bf7\u53c2\u9605",(0,a.jsx)(r.a,{href:"https://pandas.pydata.org/pandas-docs/stable/text.html#text-string-methods",children:"\u5411\u91cf\u5316\u7684\u5b57\u7b26\u4e32\u65b9\u6cd5"}),"\u3002"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [71]: s = pd.Series(['A', 'B', 'C', 'Aaba', 'Baca', np.nan, 'CABA', 'dog', 'cat'])\r\n\r\nIn [72]: s.str.lower()\r\nOut[72]: \r\n0       a\r\n1       b\r\n2       c\r\n3    aaba\r\n4    baca\r\n5     NaN\r\n6    caba\r\n7     dog\r\n8     cat\r\ndtype: object\n"})}),"\n",(0,a.jsx)(r.h2,{id:"\u5408\u5e76",children:"\u5408\u5e76"}),"\n",(0,a.jsx)(r.h3,{id:"concat",children:"Concat"}),"\n",(0,a.jsxs)(r.p,{children:["pandas \u63d0\u4f9b\u4e86\u5927\u91cf\u65b9\u6cd5\uff0c\u53ef\u4ee5\u65b9\u4fbf\u5730\u5bf9 Series\uff0cDataFrame \u548c Panel \u5bf9\u8c61\u8fdb\u884c\u5408\u5e76\u64cd\u4f5c\u3002\r\n\u8bf7\u53c2\u9605",(0,a.jsx)(r.a,{href:"https://pandas.pydata.org/pandas-docs/stable/merging.html#merging",children:"\u5408\u5e76\u90e8\u5206"}),"\u3002"]}),"\n",(0,a.jsxs)(r.p,{children:["\u4f7f\u7528 ",(0,a.jsx)(r.code,{children:"concat()"})," \u5408\u5e76 pandas \u5bf9\u8c61\uff1a"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [73]: df = pd.DataFrame(np.random.randn(10, 4))\r\n\r\nIn [74]: df\r\nOut[74]: \r\n          0         1         2         3\r\n0 -0.548702  1.467327 -1.015962 -0.483075\r\n1  1.637550 -1.217659 -0.291519 -1.745505\r\n2 -0.263952  0.991460 -0.919069  0.266046\r\n3 -0.709661  1.669052  1.037882 -1.705775\r\n4 -0.919854 -0.042379  1.247642 -0.009920\r\n5  0.290213  0.495767  0.362949  1.548106\r\n6 -1.131345 -0.089329  0.337863 -0.945867\r\n7 -0.932132  1.956030  0.017587 -0.016692\r\n8 -0.575247  0.254161 -1.143704  0.215897\r\n9  1.193555 -0.077118 -0.408530 -0.862495\r\n\r\n# break it into pieces\r\nIn [75]: pieces = [df[:3], df[3:7], df[7:]]\r\n\r\nIn [76]: pd.concat(pieces)\r\nOut[76]: \r\n          0         1         2         3\r\n0 -0.548702  1.467327 -1.015962 -0.483075\r\n1  1.637550 -1.217659 -0.291519 -1.745505\r\n2 -0.263952  0.991460 -0.919069  0.266046\r\n3 -0.709661  1.669052  1.037882 -1.705775\r\n4 -0.919854 -0.042379  1.247642 -0.009920\r\n5  0.290213  0.495767  0.362949  1.548106\r\n6 -1.131345 -0.089329  0.337863 -0.945867\r\n7 -0.932132  1.956030  0.017587 -0.016692\r\n8 -0.575247  0.254161 -1.143704  0.215897\r\n9  1.193555 -0.077118 -0.408530 -0.862495\n"})}),"\n",(0,a.jsx)(r.h3,{id:"join",children:"Join"}),"\n",(0,a.jsxs)(r.p,{children:["\u4ee5 SQL \u7684\u6837\u5f0f\u5408\u5e76\u3002\u8bf7\u53c2\u9605",(0,a.jsx)(r.a,{href:"https://pandas.pydata.org/pandas-docs/stable/merging.html#merging-join",children:"\u6570\u636e\u5e93\u6837\u5f0f\u7684\u52a0\u5165"}),"\u3002"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [77]: left = pd.DataFrame({'key': ['foo', 'foo'], 'lval': [1, 2]})\r\n\r\nIn [78]: right = pd.DataFrame({'key': ['foo', 'foo'], 'rval': [4, 5]})\r\n\r\nIn [79]: left\r\nOut[79]: \r\n   key  lval\r\n0  foo     1\r\n1  foo     2\r\n\r\nIn [80]: right\r\nOut[80]: \r\n   key  rval\r\n0  foo     4\r\n1  foo     5\r\n\r\nIn [81]: pd.merge(left, right, on='key')\r\nOut[81]: \r\n   key  lval  rval\r\n0  foo     1     4\r\n1  foo     1     5\r\n2  foo     2     4\r\n3  foo     2     5\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u53e6\u4e00\u4e2a\u4f8b\u5b50\u5982\u4e0b\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [82]: left = pd.DataFrame({'key': ['foo', 'bar'], 'lval': [1, 2]})\r\n\r\nIn [83]: right = pd.DataFrame({'key': ['foo', 'bar'], 'rval': [4, 5]})\r\n\r\nIn [84]: left\r\nOut[84]: \r\n   key  lval\r\n0  foo     1\r\n1  bar     2\r\n\r\nIn [85]: right\r\nOut[85]: \r\n   key  rval\r\n0  foo     4\r\n1  bar     5\r\n\r\nIn [86]: pd.merge(left, right, on='key')\r\nOut[86]: \r\n   key  lval  rval\r\n0  foo     1     4\r\n1  bar     2     5\n"})}),"\n",(0,a.jsx)(r.h3,{id:"append",children:"Append"}),"\n",(0,a.jsxs)(r.p,{children:["\u5c06\u65b0\u884c\u8fde\u63a5\u5230 DataFrame \u4e0a\u3002\u89c1",(0,a.jsx)(r.a,{href:"https://pandas.pydata.org/pandas-docs/stable/merging.html#merging-concatenation",children:"\u9644\u52a0"}),"\u3002"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [87]: df = pd.DataFrame(np.random.randn(8, 4), columns=['A','B','C','D'])\r\n\r\nIn [88]: df\r\nOut[88]: \r\n          A         B         C         D\r\n0  1.346061  1.511763  1.627081 -0.990582\r\n1 -0.441652  1.211526  0.268520  0.024580\r\n2 -1.577585  0.396823 -0.105381 -0.532532\r\n3  1.453749  1.208843 -0.080952 -0.264610\r\n4 -0.727965 -0.589346  0.339969 -0.693205\r\n5 -0.339355  0.593616  0.884345  1.591431\r\n6  0.141809  0.220390  0.435589  0.192451\r\n7 -0.096701  0.803351  1.715071 -0.708758\r\n\r\nIn [89]: s = df.iloc[3]\r\n\r\nIn [90]: df.append(s, ignore_index=True)\r\nOut[90]: \r\n          A         B         C         D\r\n0  1.346061  1.511763  1.627081 -0.990582\r\n1 -0.441652  1.211526  0.268520  0.024580\r\n2 -1.577585  0.396823 -0.105381 -0.532532\r\n3  1.453749  1.208843 -0.080952 -0.264610\r\n4 -0.727965 -0.589346  0.339969 -0.693205\r\n5 -0.339355  0.593616  0.884345  1.591431\r\n6  0.141809  0.220390  0.435589  0.192451\r\n7 -0.096701  0.803351  1.715071 -0.708758\r\n8  1.453749  1.208843 -0.080952 -0.264610\n"})}),"\n",(0,a.jsx)(r.h2,{id:"\u5206\u7ec4",children:"\u5206\u7ec4"}),"\n",(0,a.jsx)(r.p,{children:"\u201cgroup by\u201d \u6307\u7684\u662f\u6d89\u53ca\u4e00\u4e2a\u6216\u591a\u4e2a\u4ee5\u4e0b\u6b65\u9aa4\u7684\u8fc7\u7a0b\uff1a"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["\u6839\u636e\u4e00\u4e9b\u89c4\u5219\u5c06\u6570\u636e",(0,a.jsx)(r.strong,{children:"\u5206\u7ec4"})]}),"\n",(0,a.jsxs)(r.li,{children:["\u5bf9\u4e8e\u6bcf\u7ec4\u6570\u636e\u5206\u522b",(0,a.jsx)(r.strong,{children:"\u5e94\u7528"}),"\u51fd\u6570"]}),"\n",(0,a.jsxs)(r.li,{children:["\u5c06\u7ed3\u679c",(0,a.jsx)(r.strong,{children:"\u7ec4\u5408"}),"\u6210\u4e00\u4e2a\u6570\u636e\u7ed3\u6784"]}),"\n"]}),"\n",(0,a.jsxs)(r.p,{children:["\u8bf7\u53c2\u89c1",(0,a.jsx)(r.a,{href:"https://pandas.pydata.org/pandas-docs/stable/groupby.html#groupby",children:"\u5206\u7ec4\u90e8\u5206"}),"\u3002"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [91]: df = pd.DataFrame({'A' : ['foo', 'bar', 'foo', 'bar',\r\n   ....:                           'foo', 'bar', 'foo', 'foo'],\r\n   ....:                    'B' : ['one', 'one', 'two', 'three',\r\n   ....:                           'two', 'two', 'one', 'three'],\r\n   ....:                    'C' : np.random.randn(8),\r\n   ....:                    'D' : np.random.randn(8)})\r\n   ....: \r\n\r\nIn [92]: df\r\nOut[92]: \r\n     A      B         C         D\r\n0  foo    one -1.202872 -0.055224\r\n1  bar    one -1.814470  2.395985\r\n2  foo    two  1.018601  1.552825\r\n3  bar  three -0.595447  0.166599\r\n4  foo    two  1.395433  0.047609\r\n5  bar    two -0.392670 -0.136473\r\n6  foo    one  0.007207 -0.561757\r\n7  foo  three  1.928123 -1.623033\n"})}),"\n",(0,a.jsxs)(r.p,{children:["\u5206\u7ec4\uff0c\u7136\u540e\u5e94\u7528\u51fd\u6570 ",(0,a.jsx)(r.code,{children:"sum"}),"\uff1a"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [93]: df.groupby('A').sum()\r\nOut[93]: \r\n            C        D\r\nA                     \r\nbar -2.802588  2.42611\r\nfoo  3.146492 -0.63958\n"})}),"\n",(0,a.jsxs)(r.p,{children:["\u6309\u591a\u5217\u5206\u7ec4\u4f1a\u751f\u6210\u5206\u5c42\u7d22\u5f15\uff0c\u7136\u540e\u5e94\u7528\u51fd\u6570 ",(0,a.jsx)(r.code,{children:"sum"}),"\uff1a"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [94]: df.groupby(['A','B']).sum()\r\nOut[94]: \r\n                  C         D\r\nA   B                        \r\nbar one   -1.814470  2.395985\r\n    three -0.595447  0.166599\r\n    two   -0.392670 -0.136473\r\nfoo one   -1.195665 -0.616981\r\n    three  1.928123 -1.623033\r\n    two    2.414034  1.600434\n"})}),"\n",(0,a.jsx)(r.h2,{id:"\u91cd\u5851",children:"\u91cd\u5851"}),"\n",(0,a.jsxs)(r.p,{children:["\u8bf7\u53c2\u9605",(0,a.jsx)(r.a,{href:"https://pandas.pydata.org/pandas-docs/stable/advanced.html#advanced-hierarchical",children:"\u5206\u5c42\u7d22\u5f15\u548c\u91cd\u5851"}),"\u3002"]}),"\n",(0,a.jsx)(r.h3,{id:"stack",children:"Stack"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [95]: tuples = list(zip(*[['bar', 'bar', 'baz', 'baz',\r\n   ....:                      'foo', 'foo', 'qux', 'qux'],\r\n   ....:                     ['one', 'two', 'one', 'two',\r\n   ....:                      'one', 'two', 'one', 'two']]))\r\n   ....: \r\n\r\nIn [96]: index = pd.MultiIndex.from_tuples(tuples, names=['first', 'second'])\r\n\r\nIn [97]: df = pd.DataFrame(np.random.randn(8, 2), index=index, columns=['A', 'B'])\r\n\r\nIn [98]: df2 = df[:4]\r\n\r\nIn [99]: df2\r\nOut[99]: \r\n                     A         B\r\nfirst second                    \r\nbar   one     0.029399 -0.542108\r\n      two     0.282696 -0.087302\r\nbaz   one    -1.575170  1.771208\r\n      two     0.816482  1.100230\n"})}),"\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.code,{children:"stack()"})," \u65b9\u6cd5\u5bf9 DataFrame \u7684\u5217\u8fdb\u884c\u201c\u538b\u7f29\u201d\u3002"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [100]: stacked = df2.stack()\r\n\r\nIn [101]: stacked\r\nOut[101]: \r\nfirst  second   \r\nbar    one     A    0.029399\r\n               B   -0.542108\r\n       two     A    0.282696\r\n               B   -0.087302\r\nbaz    one     A   -1.575170\r\n               B    1.771208\r\n       two     A    0.816482\r\n               B    1.100230\r\ndtype: float64\n"})}),"\n",(0,a.jsxs)(r.p,{children:["\u5bf9\u4e8e \u201c\u5806\u53e0\u7684\u201d DataFrame \u6216 Series\uff08\u591a\u7d22\u5f15\uff09\uff0c",(0,a.jsx)(r.code,{children:"stack()"})," \u7684\u9006\u64cd\u4f5c\u662f ",(0,a.jsx)(r.code,{children:"unstack()"}),"\uff0c\u9ed8\u8ba4\u62c6\u4e0b\u6700\u540e\u4e00\u5c42\uff1a"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [102]: stacked.unstack()\r\nOut[102]: \r\n                     A         B\r\nfirst second                    \r\nbar   one     0.029399 -0.542108\r\n      two     0.282696 -0.087302\r\nbaz   one    -1.575170  1.771208\r\n      two     0.816482  1.100230\r\n\r\nIn [103]: stacked.unstack(1)\r\nOut[103]: \r\nsecond        one       two\r\nfirst                      \r\nbar   A  0.029399  0.282696\r\n      B -0.542108 -0.087302\r\nbaz   A -1.575170  0.816482\r\n      B  1.771208  1.100230\r\n\r\nIn [104]: stacked.unstack(0)\r\nOut[104]: \r\nfirst          bar       baz\r\nsecond                      \r\none    A  0.029399 -1.575170\r\n       B -0.542108  1.771208\r\ntwo    A  0.282696  0.816482\r\n       B -0.087302  1.100230\n"})}),"\n",(0,a.jsx)(r.h3,{id:"\u900f\u89c6\u8868",children:"\u900f\u89c6\u8868"}),"\n",(0,a.jsxs)(r.p,{children:["\u8bf7\u53c2\u9605",(0,a.jsx)(r.a,{href:"https://pandas.pydata.org/pandas-docs/stable/reshaping.html#reshaping-pivot",children:"\u900f\u89c6\u8868"}),"\u3002"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [105]: df = pd.DataFrame({'A' : ['one', 'one', 'two', 'three'] * 3,\r\n   .....:                    'B' : ['A', 'B', 'C'] * 4,\r\n   .....:                    'C' : ['foo', 'foo', 'foo', 'bar', 'bar', 'bar'] * 2,\r\n   .....:                    'D' : np.random.randn(12),\r\n   .....:                    'E' : np.random.randn(12)})\r\n   .....: \r\n\r\nIn [106]: df\r\nOut[106]: \r\n        A  B    C         D         E\r\n0     one  A  foo  1.418757 -0.179666\r\n1     one  B  foo -1.879024  1.291836\r\n2     two  C  foo  0.536826 -0.009614\r\n3   three  A  bar  1.006160  0.392149\r\n4     one  B  bar -0.029716  0.264599\r\n5     one  C  bar -1.146178 -0.057409\r\n6     two  A  foo  0.100900 -1.425638\r\n7   three  B  foo -1.035018  1.024098\r\n8     one  C  foo  0.314665 -0.106062\r\n9     one  A  bar -0.773723  1.824375\r\n10    two  B  bar -1.170653  0.595974\r\n11  three  C  bar  0.648740  1.167115\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u53ef\u4ee5\u4ece\u4e0a\u8ff0\u6570\u636e\u8f7b\u677e\u751f\u6210\u900f\u89c6\u8868\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [107]: pd.pivot_table(df, values='D', index=['A', 'B'], columns=['C'])\r\nOut[107]: \r\nC             bar       foo\r\nA     B                    \r\none   A -0.773723  1.418757\r\n      B -0.029716 -1.879024\r\n      C -1.146178  0.314665\r\nthree A  1.006160       NaN\r\n      B       NaN -1.035018\r\n      C  0.648740       NaN\r\ntwo   A       NaN  0.100900\r\n      B -1.170653       NaN\r\n      C       NaN  0.536826\n"})}),"\n",(0,a.jsx)(r.h2,{id:"\u65f6\u95f4\u5e8f\u5217",children:"\u65f6\u95f4\u5e8f\u5217"}),"\n",(0,a.jsxs)(r.p,{children:["pandas \u5728\u5bf9\u9891\u7387\u8f6c\u6362\u8fdb\u884c\u91cd\u65b0\u91c7\u6837\u65f6\u62e5\u6709\u7b80\u5355\u3001\u5f3a\u5927\u4e14\u9ad8\u6548\u7684\u529f\u80fd\uff08\u5982\u5c06\u6309\u79d2\u91c7\u6837\u7684\u6570\u636e\u8f6c\u6362\u4e3a\u63095\u5206\u949f\u4e3a\u5355\u4f4d\u8fdb\u884c\u91c7\u6837\u7684\u6570\u636e\uff09\u3002\u8fd9\u79cd\u64cd\u4f5c\u5e38\u89c1\u4e8e\uff08\u4f46\u5e76\u4e0d\u9650\u4e8e\uff09\u91d1\u878d\u9886\u57df\u3002\r\n\u8bf7\u53c2\u9605",(0,a.jsx)(r.a,{href:"https://pandas.pydata.org/pandas-docs/stable/timeseries.html#timeseries",children:"\u65f6\u95f4\u5e8f\u5217\u90e8\u5206"}),"\u3002"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [108]: rng = pd.date_range('1/1/2012', periods=100, freq='S')\r\n\r\nIn [109]: ts = pd.Series(np.random.randint(0, 500, len(rng)), index=rng)\r\n\r\nIn [110]: ts.resample('5Min').sum()\r\nOut[110]: \r\n2012-01-01    25083\r\nFreq: 5T, dtype: int64\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u65f6\u533a\u8868\u793a\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [111]: rng = pd.date_range('3/6/2012 00:00', periods=5, freq='D')\r\n\r\nIn [112]: ts = pd.Series(np.random.randn(len(rng)), rng)\r\n\r\nIn [113]: ts\r\nOut[113]: \r\n2012-03-06    0.464000\r\n2012-03-07    0.227371\r\n2012-03-08   -0.496922\r\n2012-03-09    0.306389\r\n2012-03-10   -2.290613\r\nFreq: D, dtype: float64\r\n\r\nIn [114]: ts_utc = ts.tz_localize('UTC')\r\n\r\nIn [115]: ts_utc\r\nOut[115]: \r\n2012-03-06 00:00:00+00:00    0.464000\r\n2012-03-07 00:00:00+00:00    0.227371\r\n2012-03-08 00:00:00+00:00   -0.496922\r\n2012-03-09 00:00:00+00:00    0.306389\r\n2012-03-10 00:00:00+00:00   -2.290613\r\nFreq: D, dtype: float64\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u65f6\u533a\u8f6c\u6362\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [116]: ts_utc.tz_convert('US/Eastern')\r\nOut[116]: \r\n2012-03-05 19:00:00-05:00    0.464000\r\n2012-03-06 19:00:00-05:00    0.227371\r\n2012-03-07 19:00:00-05:00   -0.496922\r\n2012-03-08 19:00:00-05:00    0.306389\r\n2012-03-09 19:00:00-05:00   -2.290613\r\nFreq: D, dtype: float64\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u65f6\u95f4\u8de8\u5ea6\u8f6c\u6362\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [117]: rng = pd.date_range('1/1/2012', periods=5, freq='M')\r\n\r\nIn [118]: ts = pd.Series(np.random.randn(len(rng)), index=rng)\r\n\r\nIn [119]: ts\r\nOut[119]: \r\n2012-01-31   -1.134623\r\n2012-02-29   -1.561819\r\n2012-03-31   -0.260838\r\n2012-04-30    0.281957\r\n2012-05-31    1.523962\r\nFreq: M, dtype: float64\r\n\r\nIn [120]: ps = ts.to_period()\r\n\r\nIn [121]: ps\r\nOut[121]: \r\n2012-01   -1.134623\r\n2012-02   -1.561819\r\n2012-03   -0.260838\r\n2012-04    0.281957\r\n2012-05    1.523962\r\nFreq: M, dtype: float64\r\n\r\nIn [122]: ps.to_timestamp()\r\nOut[122]: \r\n2012-01-01   -1.134623\r\n2012-02-01   -1.561819\r\n2012-03-01   -0.260838\r\n2012-04-01    0.281957\r\n2012-05-01    1.523962\r\nFreq: MS, dtype: float64\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u5468\u671f\u548c\u65f6\u95f4\u6233\u4e4b\u95f4\u7684\u8f6c\u6362\u4f7f\u5f97\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e9b\u65b9\u4fbf\u7684\u7b97\u672f\u51fd\u6570\u3002\r\n\u4e0b\u9762\u7684\u4f8b\u5b50\u5c06\u5b63\u5ea6\u7ed3\u675f\u65f6\u95f4\u4ece 11 \u6708\u4efd\u8f6c\u6362\u4e3a\u8be5\u5b63\u5ea6\u6700\u540e\u4e00\u4e2a\u6708\u7684\u4e0a\u5348 9 \u70b9\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [123]: prng = pd.period_range('1990Q1', '2000Q4', freq='Q-NOV')\r\n\r\nIn [124]: ts = pd.Series(np.random.randn(len(prng)), prng)\r\n\r\nIn [125]: ts.index = (prng.asfreq('M', 'e') + 1).asfreq('H', 's') + 9\r\n\r\nIn [126]: ts.head()\r\nOut[126]: \r\n1990-03-01 09:00   -0.902937\r\n1990-06-01 09:00    0.068159\r\n1990-09-01 09:00   -0.057873\r\n1990-12-01 09:00   -0.368204\r\n1991-03-01 09:00   -1.144073\r\nFreq: H, dtype: float64\n"})}),"\n",(0,a.jsx)(r.h2,{id:"categorical",children:"Categorical"}),"\n",(0,a.jsxs)(r.p,{children:["pandas \u53ef\u4ee5\u5728 DataFrame \u4e2d\u652f\u6301 ",(0,a.jsx)(r.strong,{children:"Categorical"})," \u7c7b\u578b\u7684\u6570\u636e\u3002\r\n\u8bf7\u53c2\u9605",(0,a.jsx)(r.a,{href:"https://pandas.pydata.org/pandas-docs/stable/categorical.html#categorical",children:"Categorical \u4ecb\u7ecd"}),"\u548c",(0,a.jsx)(r.a,{href:"https://pandas.pydata.org/pandas-docs/stable/api.html#api-categorical",children:"Categorical \u7684API\u6587\u6863"}),"\u3002"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [127]: df = pd.DataFrame({\"id\":[1,2,3,4,5,6], \"raw_grade\":['a', 'b', 'b', 'a', 'a', 'e']})\n"})}),"\n",(0,a.jsxs)(r.p,{children:["\u5c06\u539f\u59cb\u7684 ",(0,a.jsx)(r.code,{children:"grade"})," \u8f6c\u6362\u4e3a Categorical \u7c7b\u578b\uff1a"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:'In [128]: df["grade"] = df["raw_grade"].astype("category")\r\n\r\nIn [129]: df["grade"]\r\nOut[129]: \r\n0    a\r\n1    b\r\n2    b\r\n3    a\r\n4    a\r\n5    e\r\nName: grade, dtype: category\r\nCategories (3, object): [a, b, e]\n'})}),"\n",(0,a.jsx)(r.p,{children:"\u5c06 Categorical \u7c7b\u578b\u6570\u636e\u91cd\u547d\u540d\u4e3a\u66f4\u6709\u610f\u4e49\u7684\u540d\u79f0\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:'In [130]: df["grade"].cat.categories = ["very good", "good", "very bad"]\n'})}),"\n",(0,a.jsx)(r.p,{children:"\u5bf9\u7c7b\u522b\u8fdb\u884c\u91cd\u65b0\u6392\u5e8f\uff0c\u589e\u52a0\u7f3a\u5931\u7684\u7c7b\u522b\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:'In [131]: df["grade"] = df["grade"].cat.set_categories(["very bad", "bad", "medium", "good", "very good"])\r\n\r\nIn [132]: df["grade"]\r\nOut[132]: \r\n0    very good\r\n1         good\r\n2         good\r\n3    very good\r\n4    very good\r\n5     very bad\r\nName: grade, dtype: category\r\nCategories (5, object): [very bad, bad, medium, good, very good]\n'})}),"\n",(0,a.jsx)(r.p,{children:"\u6392\u5e8f\u662f\u6309\u7167 Categorical \u987a\u5e8f\u8fdb\u884c\uff0c\u800c\u4e0d\u662f\u6309\u7167\u5b57\u5178\u987a\u5e8f\u8fdb\u884c\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:'In [133]: df.sort_values(by="grade")\r\nOut[133]: \r\n   id raw_grade      grade\r\n5   6         e   very bad\r\n1   2         b       good\r\n2   3         b       good\r\n0   1         a  very good\r\n3   4         a  very good\r\n4   5         a  very good\n'})}),"\n",(0,a.jsx)(r.p,{children:"\u5bf9\u5217\u8fdb\u884c\u6392\u5e8f\uff0c\u7a7a\u7684\u7c7b\u522b\u4e5f\u4f1a\u5305\u542b\u5728\u5176\u4e2d\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:'In [134]: df.groupby("grade").size()\r\nOut[134]: \r\ngrade\r\nvery bad     1\r\nbad          0\r\nmedium       0\r\ngood         2\r\nvery good    3\r\ndtype: int64\n'})}),"\n",(0,a.jsx)(r.h2,{id:"\u7ed8\u56fe",children:"\u7ed8\u56fe"}),"\n",(0,a.jsxs)(r.p,{children:["\u8bf7\u53c2\u9605",(0,a.jsx)(r.a,{href:"https://pandas.pydata.org/pandas-docs/stable/visualization.html#visualization",children:"\u7ed8\u5236\u6587\u6863"}),"\u3002"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [135]: ts = pd.Series(np.random.randn(1000), index=pd.date_range('1/1/2000', periods=1000))\r\n\r\nIn [136]: ts = ts.cumsum()\r\n\r\nIn [137]: ts.plot()\r\nOut[137]: <matplotlib.axes._subplots.AxesSubplot at 0x109464b70>\n"})}),"\n",(0,a.jsx)(r.p,{children:(0,a.jsx)(r.img,{src:"https://pandas.pydata.org/pandas-docs/stable/_images/series_plot_basic.png",alt:"Series plot"})}),"\n",(0,a.jsxs)(r.p,{children:["\u5bf9\u4e8e DataFrame \u6765\u8bf4\uff0c",(0,a.jsx)(r.code,{children:"plot"})," \u662f\u4e00\u79cd\u5c06\u6240\u6709\u5217\u53ca\u5176\u6807\u7b7e\u8fdb\u884c\u7ed8\u5236\u7684\u7b80\u4fbf\u65b9\u6cd5\uff1a"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [138]: df = pd.DataFrame(np.random.randn(1000, 4), index=ts.index,\r\n   .....:                   columns=['A', 'B', 'C', 'D'])\r\n   .....: \r\n\r\nIn [139]: df = df.cumsum()\r\n\r\nIn [140]: plt.figure(); df.plot(); plt.legend(loc='best')\r\nOut[140]: <matplotlib.legend.Legend at 0x109a28860>\n"})}),"\n",(0,a.jsx)(r.p,{children:(0,a.jsx)(r.img,{src:"https://pandas.pydata.org/pandas-docs/stable/_images/frame_plot_basic.png",alt:"DataFrame plot"})}),"\n",(0,a.jsx)(r.h2,{id:"\u6570\u636e\u5bfc\u5165\u5bfc\u51fa",children:"\u6570\u636e\u5bfc\u5165/\u5bfc\u51fa"}),"\n",(0,a.jsx)(r.h3,{id:"csv",children:"CSV"}),"\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.a,{href:"https://pandas.pydata.org/pandas-docs/stable/io.html#io-store-in-csv",children:"\u5199\u5165 csv \u6587\u4ef6"}),"\uff1a"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [141]: df.to_csv('foo.csv')\n"})}),"\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.a,{href:"https://pandas.pydata.org/pandas-docs/stable/io.html#io-read-csv-table",children:"\u8bfb\u53d6 csv \u6587\u4ef6"}),"\uff1a"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [142]: pd.read_csv('foo.csv')\r\nOut[142]: \r\n     Unnamed: 0          A          B         C          D\r\n0    2000-01-01   0.266457  -0.399641 -0.219582   1.186860\r\n1    2000-01-02  -1.170732  -0.345873  1.653061  -0.282953\r\n2    2000-01-03  -1.734933   0.530468  2.060811  -0.515536\r\n3    2000-01-04  -1.555121   1.452620  0.239859  -1.156896\r\n4    2000-01-05   0.578117   0.511371  0.103552  -2.428202\r\n5    2000-01-06   0.478344   0.449933 -0.741620  -1.962409\r\n6    2000-01-07   1.235339  -0.091757 -1.543861  -1.084753\r\n..          ...        ...        ...       ...        ...\r\n993  2002-09-20 -10.628548  -9.153563 -7.883146  28.313940\r\n994  2002-09-21 -10.390377  -8.727491 -6.399645  30.914107\r\n995  2002-09-22  -8.985362  -8.485624 -4.669462  31.367740\r\n996  2002-09-23  -9.558560  -8.781216 -4.499815  30.518439\r\n997  2002-09-24  -9.902058  -9.340490 -4.386639  30.105593\r\n998  2002-09-25 -10.216020  -9.480682 -3.933802  29.758560\r\n999  2002-09-26 -11.856774 -10.671012 -3.216025  29.369368\r\n\r\n[1000 rows x 5 columns]\n"})}),"\n",(0,a.jsx)(r.h3,{id:"hdf5",children:"HDF5"}),"\n",(0,a.jsxs)(r.p,{children:["\u4f7f\u7528 ",(0,a.jsx)(r.a,{href:"https://pandas.pydata.org/pandas-docs/stable/io.html#io-hdf5",children:"HDFStores"})," \u8fdb\u884c\u8bfb\u5199\u3002"]}),"\n",(0,a.jsx)(r.p,{children:"\u5199\u5165 HDF5 \u5b58\u50a8\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [143]: df.to_hdf('foo.h5','df')\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u8bfb\u53d6 HDF5 \u5b58\u50a8\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [144]: pd.read_hdf('foo.h5','df')\r\nOut[144]: \r\n                    A          B         C          D\r\n2000-01-01   0.266457  -0.399641 -0.219582   1.186860\r\n2000-01-02  -1.170732  -0.345873  1.653061  -0.282953\r\n2000-01-03  -1.734933   0.530468  2.060811  -0.515536\r\n2000-01-04  -1.555121   1.452620  0.239859  -1.156896\r\n2000-01-05   0.578117   0.511371  0.103552  -2.428202\r\n2000-01-06   0.478344   0.449933 -0.741620  -1.962409\r\n2000-01-07   1.235339  -0.091757 -1.543861  -1.084753\r\n...               ...        ...       ...        ...\r\n2002-09-20 -10.628548  -9.153563 -7.883146  28.313940\r\n2002-09-21 -10.390377  -8.727491 -6.399645  30.914107\r\n2002-09-22  -8.985362  -8.485624 -4.669462  31.367740\r\n2002-09-23  -9.558560  -8.781216 -4.499815  30.518439\r\n2002-09-24  -9.902058  -9.340490 -4.386639  30.105593\r\n2002-09-25 -10.216020  -9.480682 -3.933802  29.758560\r\n2002-09-26 -11.856774 -10.671012 -3.216025  29.369368\r\n\r\n[1000 rows x 4 columns]\n"})}),"\n",(0,a.jsx)(r.h3,{id:"excel",children:"Excel"}),"\n",(0,a.jsxs)(r.p,{children:["\u4f7f\u7528 ",(0,a.jsx)(r.a,{href:"https://pandas.pydata.org/pandas-docs/stable/io.html#io-excel",children:"MS Excel"})," \u8fdb\u884c\u8bfb\u5199\u3002"]}),"\n",(0,a.jsx)(r.p,{children:"\u5199\u5165 Excel \u6587\u4ef6\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [145]: df.to_excel('foo.xlsx', sheet_name='Sheet1')\n"})}),"\n",(0,a.jsx)(r.p,{children:"\u8bfb\u53d6 Excel \u6587\u4ef6\uff1a"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"In [146]: pd.read_excel('foo.xlsx', 'Sheet1', index_col=None, na_values=['NA'])\r\nOut[146]: \r\n                    A          B         C          D\r\n2000-01-01   0.266457  -0.399641 -0.219582   1.186860\r\n2000-01-02  -1.170732  -0.345873  1.653061  -0.282953\r\n2000-01-03  -1.734933   0.530468  2.060811  -0.515536\r\n2000-01-04  -1.555121   1.452620  0.239859  -1.156896\r\n2000-01-05   0.578117   0.511371  0.103552  -2.428202\r\n2000-01-06   0.478344   0.449933 -0.741620  -1.962409\r\n2000-01-07   1.235339  -0.091757 -1.543861  -1.084753\r\n...               ...        ...       ...        ...\r\n2002-09-20 -10.628548  -9.153563 -7.883146  28.313940\r\n2002-09-21 -10.390377  -8.727491 -6.399645  30.914107\r\n2002-09-22  -8.985362  -8.485624 -4.669462  31.367740\r\n2002-09-23  -9.558560  -8.781216 -4.499815  30.518439\r\n2002-09-24  -9.902058  -9.340490 -4.386639  30.105593\r\n2002-09-25 -10.216020  -9.480682 -3.933802  29.758560\r\n2002-09-26 -11.856774 -10.671012 -3.216025  29.369368\r\n\r\n[1000 rows x 4 columns]\n"})})]})}function p(n={}){const{wrapper:r}={...(0,d.a)(),...n.components};return r?(0,a.jsx)(r,{...n,children:(0,a.jsx)(i,{...n})}):i(n)}},11151:(n,r,e)=>{e.d(r,{Z:()=>t,a:()=>l});var a=e(67294);const d={},s=a.createContext(d);function l(n){const r=a.useContext(s);return a.useMemo((function(){return"function"==typeof n?n(r):{...r,...n}}),[r,n])}function t(n){let r;return r=n.disableParentContext?"function"==typeof n.components?n.components(d):n.components||d:l(n.components),a.createElement(s.Provider,{value:r},n.children)}}}]);